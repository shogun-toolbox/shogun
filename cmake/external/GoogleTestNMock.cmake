MergeCFLAGS()
GetCompilers()

include(ExternalProject)
ExternalProject_Add(
	GoogleMock
	SVN_REPOSITORY http://googlemock.googlecode.com/svn/trunk
	SVN_REVISION -r 441
    TIMEOUT 10
	PREFIX ${CMAKE_BINARY_DIR}/GoogleMock
	DOWNLOAD_DIR ${THIRD_PARTY_DIR}/GoogleMock
	INSTALL_COMMAND ""
	CMAKE_ARGS 	-DCMAKE_ARCHIVE_OUTPUT_DIRECTORY:PATH=${THIRD_PARTY_DIR}/libs/gmock
		-DCMAKE_LIBRARY_OUTPUT_DIRECTORY:PATH=${THIRD_PARTY_DIR}/libs/gmock
		-DCMAKE_CXX_FLAGS:STRING=${MERGED_CXX_FLAGS}${CMAKE_DEFINITIONS}
		-DCMAKE_C_COMPILER:STRING=${C_COMPILER}
		-DCMAKE_CXX_COMPILER:STRING=${CXX_COMPILER}
)

UNSET(C_COMPILER)
UNSET(CXX_COMPILER)