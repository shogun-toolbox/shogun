/*
 * THIS IS A GENERATED FILE!  DO NOT CHANGE THIS FILE!  CHANGE THE
 * CORRESPONDING TEMPLATE FILE, PLEASE!
 */

#include <gtest/gtest.h>
#include <shogun/base/SGObject.h>
#include <shogun/base/class_list.h>

using namespace shogun;

{% set ignores = ['Set', 'ParseBuffer', 'TreeMachine'] %}

{% for class in classes %}
{% if class in ignores or class.startswith('GUI') %}
TEST(SGObject,DISABLED_clone_equals_{{class}})
{% else %}
TEST(SGObject,clone_equals_{{class}})
{% endif %}
{
	const char* class_name="{{class}}";
	SGObject* object = create(class_name, PT_NOT_GENERIC);
	ASSERT_TRUE(object != NULL);

	/* test for get_name() */
	ASSERT_TRUE(strcmp(object->get_name(), class_name) == 0);

	/* test for .equals() */
	SGObject* object2 = create(class_name, PT_NOT_GENERIC);
	ASSERT_TRUE(object2 != NULL);
	ASSERT_TRUE(object->equals(object2));
	ASSERT_TRUE(object2->equals(object));
	SG_UNREF(object2);

	/* test for .clone() */
	SGObject* clone = object->clone();
	ASSERT_TRUE(clone != NULL);

	/* test for .clone() + .equals() */
	EXPECT_TRUE(object->equals(clone));
	EXPECT_TRUE(clone->equals(object));

	SG_UNREF(object);
	SG_UNREF(clone);
}
{% endfor %}

{% for class in template_classes %}
{% for type in types %}
{% if class in ignores %}
TEST(SGObject,DISABLED_clone_equals_{{class}}_{{type}})
{% else %}
TEST(SGObject,clone_equals_{{class}}_{{type}})
{% endif %}
{
	const char* class_name="{{class}}";
	SGObject* object = create(class_name, {{type}});
	ASSERT_TRUE(object != NULL);

	/* test for get_name() */
	ASSERT_TRUE(strcmp(object->get_name(), class_name) == 0);

	/* test for .equals() */
	SGObject* object2 = create(class_name, {{type}});
	ASSERT_TRUE(object2 != NULL);
	ASSERT_TRUE(object->equals(object2));
	ASSERT_TRUE(object2->equals(object));
	SG_UNREF(object2);

	/* test for .clone() */
	SGObject* clone = object->clone();
	ASSERT_TRUE(clone != NULL);

	/* test for .clone() + .equals() */
	EXPECT_TRUE(object->equals(clone));
	EXPECT_TRUE(clone->equals(object));

	SG_UNREF(object);
	SG_UNREF(clone);
}
{% endfor %}
{% endfor %}

